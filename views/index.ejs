<%- include('partials/head', { title: pageTitle, description: metaDescription, seoKeywords }) %>
  <section class="hero">
    <div class="hero__overlay"></div>
    <div class="container hero__container">
      <div class="hero__text">
        <span class="badge"><%= t.hero && t.hero.badge ? t.hero.badge : '' %></span>
        <h1><%= t.hero && t.hero.headline ? t.hero.headline : '' %></h1>
        <p><%= t.hero && t.hero.description ? t.hero.description : '' %></p>
        <div class="hero__search">
          <div class="hero__filters">
            <label class="input-group">
              <span><%= t.hero && t.hero.filters ? t.hero.filters.region : '' %></span>
              <select id="region-filter">
                <option value="all"><%= t.hero && t.hero.filters ? t.hero.filters.all : 'All' %></option>
                <% regions.forEach(function(region) { %>
                  <option value="<%= region %>"><%= region %></option>
                <% }) %>
              </select>
            </label>
            <label class="input-group">
              <span><%= t.hero && t.hero.filters ? t.hero.filters.district : '' %></span>
              <select
                id="district-filter"
                data-all-label="<%= t.hero && t.hero.filters ? t.hero.filters.all : 'All' %>"
                disabled
              >
                <option value="all"><%= t.hero && t.hero.filters ? t.hero.filters.all : 'All' %></option>
              </select>
            </label>
            <label class="input-group">
              <span><%= t.hero && t.hero.filters ? t.hero.filters.category : '' %></span>
              <select id="category-filter">
                <option value="all"><%= t.hero && t.hero.filters ? t.hero.filters.all : 'All' %></option>
                <% categories.forEach(function(category) { %>
                  <option value="<%= category %>"><%= category %></option>
                <% }) %>
              </select>
            </label>
          </div>
          <button class="btn btn--primary btn--large" id="search-button" type="button">
            <%= t.hero && t.hero.filters ? t.hero.filters.action : '' %>
          </button>
        </div>
        <ul class="hero__highlights">
          <% (t.hero && Array.isArray(t.hero.highlights) ? t.hero.highlights : []).forEach(function(item) { %>
            <li><%= item %></li>
          <% }) %>
        </ul>
      </div>
      <div class="hero__stats">
        <div class="stat-card">
          <span class="stat-card__number"><%= shops.length %>+</span>
          <span class="stat-card__label"><%= t.hero && t.hero.stats ? t.hero.stats.shops : '' %></span>
        </div>
        <div class="stat-card">
          <span class="stat-card__number">24h</span>
          <span class="stat-card__label"><%= t.hero && t.hero.stats ? t.hero.stats.response : '' %></span>
        </div>
        <div class="stat-card">
          <span class="stat-card__number">1:1</span>
          <span class="stat-card__label"><%= t.hero && t.hero.stats ? t.hero.stats.concierge : '' %></span>
        </div>
      </div>
    </div>
  </section>

  <section class="section section--area-browser">
    <div class="container">
      <div class="section__header">
        <div>
          <h2 class="section__title"><%= t.areaBrowser && t.areaBrowser.title ? t.areaBrowser.title : '' %></h2>
          <p class="section__subtitle"><%= t.areaBrowser && t.areaBrowser.subtitle ? t.areaBrowser.subtitle : '' %></p>
        </div>
      </div>
      <div
        class="area-browser"
        data-area-browser
        data-empty-message="<%= t.areaBrowser && t.areaBrowser.empty ? t.areaBrowser.empty : '' %>"
      >
        <div class="area-browser__regions" role="tablist">
          <button
            class="area-browser__region-btn is-active"
            data-area-region="all"
            type="button"
          >
            <%= t.areaBrowser && t.areaBrowser.all ? t.areaBrowser.all : 'All' %>
          </button>
          <% regions.forEach(function(region) { %>
            <button
              class="area-browser__region-btn"
              data-area-region="<%= region %>"
              type="button"
            >
              <%= region %>
            </button>
          <% }) %>
        </div>
        <div class="area-browser__panel">
          <div class="area-browser__grid" data-area-browser-districts></div>
        </div>
      </div>
    </div>
  </section>

  <section class="section section--intro">
    <div class="container section__container">
      <div>
        <h2 class="section__title"><%= t.intro && t.intro.title ? t.intro.title : '' %></h2>
        <p class="section__subtitle"><%= t.intro && t.intro.subtitle ? t.intro.subtitle : '' %></p>
      </div>
      <div class="feature-grid">
        <% (t.intro && Array.isArray(t.intro.features) ? t.intro.features : []).forEach(function(feature) { %>
          <div class="feature-card">
            <h3><%= feature.title %></h3>
            <p><%= feature.description %></p>
          </div>
        <% }) %>
      </div>
    </div>
  </section>

  <section class="section" id="areas">
    <div class="container">
      <div class="section__header">
        <div>
          <h2 class="section__title"><%= t.areas && t.areas.title ? t.areas.title : '' %></h2>
          <p class="section__subtitle"><%= t.areas && t.areas.subtitle ? t.areas.subtitle : '' %></p>
        </div>
        <a class="btn btn--ghost" href="#consult"><%= t.areas && t.areas.cta ? t.areas.cta : '' %></a>
      </div>
      <div class="shop-grid" data-grid>
        <% shops.forEach(function(shop) { %>
          <article
            class="shop-card"
            data-region="<%= shop.region %>"
            data-district="<%= shop.district %>"
            data-category="<%= shop.category %>"
            data-area-group="<%= shop.areaGroup %>"
          >
            <div class="shop-card__image">
              <% if (shop.image) { %>
                <img src="<%= shop.image %>" alt="<%= shop.imageAlt || shop.name %>" />
              <% } %>
            </div>
            <div class="shop-card__body">
              <span class="shop-card__meta"><%= shop.region %> · <%= shop.district %> · <%= shop.category %></span>
              <h3><%= shop.name %></h3>
              <a class="shop-card__link" href="/shops/<%= shop.id %>"><%= t.shop && t.shop.viewDetails ? t.shop.viewDetails : '' %></a>
            </div>
          </article>
        <% }) %>
      </div>
    </div>
  </section>

  <script id="region-district-data" type="application/json">
    <%- JSON.stringify(districtMap) %>
  </script>
  <script id="area-hierarchy-data" type="application/json">
    <%- JSON.stringify(areaHierarchy) %>
  </script>
  <div class="seo-keywords" aria-hidden="true">
    <%- seoKeywords.join(', ') %>
  </div>
<%- include('partials/footer', { scripts: ['/scripts/area-browser.js'] }) %>
